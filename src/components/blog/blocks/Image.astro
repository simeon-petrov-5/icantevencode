---
import { Picture } from "@astrojs/image/components";
import type { ImageBlockObjectResponse } from "@notionhq/client/build/src/api-endpoints";

interface Props {
  block: ImageBlockObjectResponse;
  title: string;
}

const { block, title } = Astro.props as Props;

const imgBlock: ImageBlockObjectResponse["image"] = block[block.type];

const url = (imgBlock as any)[imgBlock.type].url;
---

<Picture
  src={url}
  alt={`Picutre for ${title}`}
  format="webp"
  widths={[400, 560, 720]}
  aspectRatio={16 / 9}
  sizes="(max-width: 720px) 100vw, 720px"
  quality={100}
/>

<style scoped>
  img {
    margin: 2rem 0;
    border-radius: 0.5rem;
  }
</style>
